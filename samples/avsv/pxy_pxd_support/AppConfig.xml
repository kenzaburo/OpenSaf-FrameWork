<?xml version="1.0" encoding="UTF-8"?>
<!--
 *      -*- OpenSAF  -*-
 *
 * (C) Copyright 2008 The OpenSAF Foundation
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. This file and program are licensed
 * under the GNU Lesser General Public License Version 2.1, February 1999.
 * The complete license can be accessed from the following location:
 * http://opensource.org/licenses/lgpl-license.php
 * See the Copying file included with the OpenSAF distribution for full
 * licensing terms.
 *
 * Author(s): Emerson Network Power
 *
-->
<!--Sample XML file generated by XMLSPY v2004 rel. 3 U (http://www.xmlspy.com)-->
<APPConfig xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="AppConfig.xsd" name="PXYPXD">
        <AMFConfig cluster="myAmfConfig">
                <componentPrototype name="safComp=CompT_PRX" finalPrototype="1">
                        <clcCommands>
                            <instantiateCommand>
                                <command>/etc/opt/opensaf/pxy_pxd_inst.sh</command>
                                  <timeout>60000</timeout>
                                  <numMaxInstantiate>2</numMaxInstantiate>
                            </instantiateCommand>
                            <terminateCommand>
                                 <command>/etc/opt/opensaf/pxy_pxd_term.sh</command>
                                 <timeout>5000</timeout>
                            </terminateCommand>
                            <cleanupCommand>
                               <command>/etc/opt/opensaf/pxy_pxd_term.sh</command>
                               <timeout>5000</timeout>
                            </cleanupCommand>
                        </clcCommands>
                        <instantiationLevel>1</instantiationLevel>
                        <csiPrototypeName>safCsi=Csi_PRX</csiPrototypeName>
                        <saAwareComponent>
                                <capability>1_ACTIVE_OR_1_STANDBY</capability>
                                <numMaxActiveCSIs>2</numMaxActiveCSIs>
                                <numMaxStandbyCSIs>2</numMaxStandbyCSIs>
                                <healthCheck key="A9FD64E12D">
                                        <period>2000</period>
                                        <maxDuration>6000</maxDuration>
                                </healthCheck>
                                <disableRestart>true</disableRestart>
                                <QuiescingDoneTimeout>5000</QuiescingDoneTimeout>
                                <terminationTimeout>5000</terminationTimeout>
                                <csiSetCallbackTimeout>5000</csiSetCallbackTimeout>
                                <csiRmvCallbackTimeout>5000</csiRmvCallbackTimeout>
                        </saAwareComponent>
                   <enableAM>0</enableAM>
                </componentPrototype>

                <componentPrototype name="safComp=CompT_PXD" finalPrototype="1">
                     <clcCommands>
                             <instantiateCommand>
                                     <command>junk</command>
                                     <timeout>500000</timeout>
                                     <numMaxInstantiate>5</numMaxInstantiate>
                             </instantiateCommand>
                             <terminateCommand>
                                     <command>junk</command>
                                     <timeout>5000</timeout>
                             </terminateCommand>
                             <cleanupCommand>
                                     <command>/etc/opt/opensaf/pxied_clean.sh</command>
                                     <timeout>5000</timeout>
                             </cleanupCommand>
                     </clcCommands>
                     <instantiationLevel>1</instantiationLevel>
                     <csiPrototypeName>safCsi=Csi_PXD</csiPrototypeName>
                     <proxiedComponent preInstantiable="1" >
                             <capability>1_ACTIVE_OR_1_STANDBY</capability>
                             <numMaxActiveCSIs>2</numMaxActiveCSIs>
                             <numMaxStandbyCSIs>2</numMaxStandbyCSIs>
                             <healthCheck key="A9FD64E12E">
                                     <period>60000</period>
                                     <maxDuration>80000</maxDuration>
                             </healthCheck>
                             <disableRestart>1</disableRestart>
                             <QuiescingDoneTimeout>120000</QuiescingDoneTimeout>
                             <terminationTimeout>120000</terminationTimeout>
                             <csiSetCallbackTimeout>1800000</csiSetCallbackTimeout>
                             <csiRmvCallbackTimeout>120000</csiRmvCallbackTimeout>
                     </proxiedComponent>
                     <enableAM>0</enableAM>

                </componentPrototype>

<!-- External Component Prototype Starts Here-->
                <componentPrototype name="safComp=CompT_EXT" finalPrototype="1">
                    <clcCommands>
                         <instantiateCommand>
                               <command>junk</command>
                               <timeout>500000</timeout>
                               <numMaxInstantiate>5</numMaxInstantiate>
                       </instantiateCommand>
                    </clcCommands>
                    <instantiationLevel>1</instantiationLevel>

                    <csiPrototypeName>safCsi=Csi_EXT</csiPrototypeName>

                    <proxiedComponent preInstantiable="1" >
                            <capability>1_ACTIVE_OR_1_STANDBY</capability>
                            <numMaxActiveCSIs>2</numMaxActiveCSIs>
                            <numMaxStandbyCSIs>2</numMaxStandbyCSIs>
                            <healthCheck key="ABCD20">
                                    <period>60000</period>
                                    <maxDuration>80000</maxDuration>
                            </healthCheck>
                            <healthCheck key="ABCD30">
                                    <period>60000</period>
                                    <maxDuration>80000</maxDuration>
                            </healthCheck>
                            <disableRestart>1</disableRestart>
                            <QuiescingDoneTimeout>120000</QuiescingDoneTimeout>
                            <terminationTimeout>120000</terminationTimeout>
                            <csiSetCallbackTimeout>1800000</csiSetCallbackTimeout>
                            <csiRmvCallbackTimeout>120000</csiRmvCallbackTimeout>
                    </proxiedComponent>
                    <enableAM>0</enableAM>
                </componentPrototype>
<!-- External Component Prototype Ends Here-->


                <CSIPrototype name="safCsi=junk" >
                                <ParamName name="Param1" />
                                <ParamName name="Param2" />
                </CSIPrototype>

                <CSIPrototype name="safCsi=Csi_PRX" >
                                <ParamName name="CsiAttr" />
                </CSIPrototype>

                <SUPrototype name="safSu=SuT_PRX" finalPrototype="1">
                        <componentPrototypeList>
                                <componentPrototype>safComp=CompT_PRX</componentPrototype>
                        </componentPrototypeList>
                </SUPrototype>

                <SUPrototype name="safSu=SuT_PL_PXD1" finalPrototype="1">
                        <componentPrototypeList>
                                <componentPrototype>safComp=CompT_PXD</componentPrototype>
                        </componentPrototypeList>
                </SUPrototype>

                <SUPrototype name="safSu=SuT_PL_PXD2" finalPrototype="1">
                        <componentPrototypeList>
                                <componentPrototype>safComp=CompT_PXD</componentPrototype>
                        </componentPrototypeList>
                </SUPrototype>

<!-- External SU Prototype Starts Here-->
                <SUPrototype name="safEsu=SuT_EXT" finalPrototype="1">
                        <componentPrototypeList>
                              <componentPrototype>safComp=CompT_EXT</componentPrototype>
                        </componentPrototypeList>
                </SUPrototype>
<!-- External SU Prototype Ends Here-->

                <SIInstance name="safSi=Si_PRX">
                        <CSIList>
                                <CSIInstance name="safCsi=Csi_PRX" rank="1">
                                        <prototypeName>safCsi=Csi_PRX</prototypeName>
                                        <CSIAttributes>
                                                <nameValueList>
                                                        <nameValue name="CsiAttr" value="CsiAttrVal"/>
                                                </nameValueList>
                                        </CSIAttributes>
                                </CSIInstance>
                        </CSIList>
                </SIInstance>

                <SIInstance name="safSi=Si_PL_PXD">
                        <CSIList>
                                <CSIInstance name="safCsi=Csi_PXD" rank="1">
                                        <prototypeName>safCsi=Csi_PXD</prototypeName>
                                        <CSIAttributes/>
                                </CSIInstance>
                        </CSIList>
                </SIInstance>

<!-- External SI Prototype Starts Here-->
                <SIInstance name="safSi=Si_EXT">
                    <CSIList>
                        <CSIInstance name="safCsi=Csi_EXT" rank="1">
                            <prototypeName>safCsi=Csi_EXT</prototypeName>
                            <CSIAttributes>
                              <nameValueList>
                                 <nameValue name="CsiAttrExt" value="CsiAttrValExt"/>
                              </nameValueList>
                            </CSIAttributes>
                        </CSIInstance>
                    </CSIList>
                </SIInstance>
<!-- External SI Prototype Ends Here-->

                <SGInstance name="safSg=SG_PRX">
                        <redundancyModel>
                                <model_2N>
                                        <SURankList>
                                                <SU SUName="safSu=SuT_PRX,safNode=SC_2_1" rank="1"/>
                                                <SU SUName="safSu=SuT_PRX,safNode=SC_2_2" rank="2"/>
                                        </SURankList>
                                        <numPrefInserviceSUs>2</numPrefInserviceSUs>
                                        <failbackOption>0</failbackOption>
                                </model_2N>
                        </redundancyModel>
                        <SGErrorEscalation>
                                <componentRestartMax>10</componentRestartMax>
                                <componentRestartProbation>4000000</componentRestartProbation>
                                <SURestartMax>10</SURestartMax>
                                <SURestartProbation>4000000</SURestartProbation>
                        </SGErrorEscalation>
                        <SIList>
                                <SI rank="1">safSi=Si_PRX</SI>
                        </SIList>
                </SGInstance>

                <SGInstance name="safSg=SG_PL_PXD">
                        <redundancyModel>
                                <model_2N>
                                        <SURankList>
                                                <SU SUName="safSu=SuT_PL_PXD1,safNode=PL_2_3" rank="1"/>
                                                <SU SUName="safSu=SuT_PL_PXD2,safNode=PL_2_3" rank="2"/>
                                        </SURankList>
                                        <numPrefInserviceSUs>2</numPrefInserviceSUs>
                                        <failbackOption>0</failbackOption>
                                </model_2N>
                        </redundancyModel>
                        <SGErrorEscalation>
                                <componentRestartMax>10</componentRestartMax>
                                <componentRestartProbation>4000000</componentRestartProbation>
                                <SURestartMax>10</SURestartMax>
                                <SURestartProbation>4000000</SURestartProbation>
                        </SGErrorEscalation>
                        <SIList>
                                <SI rank="1">safSi=Si_PL_PXD</SI>
                        </SIList>
                </SGInstance>

<!-- External SG Instance Starts Here-->
                <SGInstance name="safSg=SG_EXT">
                        <redundancyModel>
                           <model_2N>
                              <SURankList>
                                  <SU SUName="safEsu=SuT_EXT1" rank="1"/>
                                  <SU SUName="safEsu=SuT_EXT2" rank="2"/>
                              </SURankList>
                              <numPrefInserviceSUs>2</numPrefInserviceSUs>
                              <failbackOption>0</failbackOption>
                           </model_2N>
                        </redundancyModel>
                        <SGErrorEscalation>
                                <componentRestartMax>10</componentRestartMax>
                                <componentRestartProbation>4000000</componentRestartProbation>
                                <SURestartMax>10</SURestartMax>
                                <SURestartProbation>4000000</SURestartProbation>
                        </SGErrorEscalation>
                        <SIList>
                                <SI rank="1">safSi=Si_EXT</SI>
                        </SIList>
                </SGInstance>
<!-- External SG Instance Ends Here-->

                <nodeInstance name="safNode=SC_2_1">
                        <nodeAttributes>
                                <nodeErrorEscalation>
                                   <SUFailoverMax>2</SUFailoverMax>
                                   <SUFailoverProbation>100</SUFailoverProbation>
                                </nodeErrorEscalation>
                        </nodeAttributes>
                        <SUList>
                             <SUInstance name="safSu=SuT_PRX">
                                  <prototypeName>safSu=SuT_PRX</prototypeName>
                             </SUInstance>
                        </SUList>
                </nodeInstance>

                <nodeInstance name="safNode=SC_2_2">
                        <nodeAttributes>
                                <nodeErrorEscalation>
                                   <SUFailoverMax>2</SUFailoverMax>
                                   <SUFailoverProbation>100</SUFailoverProbation>
                                </nodeErrorEscalation>
                        </nodeAttributes>
                        <SUList>
                             <SUInstance name="safSu=SuT_PRX">
                                  <prototypeName>safSu=SuT_PRX</prototypeName>
                             </SUInstance>
                        </SUList>
                </nodeInstance>

                <nodeInstance name="safNode=PL_2_3">
                        <nodeAttributes>
                                <nodeErrorEscalation>
                                   <SUFailoverMax>2</SUFailoverMax>
                                   <SUFailoverProbation>100</SUFailoverProbation>
                                </nodeErrorEscalation>
                        </nodeAttributes>
                        <SUList>
                             <SUInstance name="safSu=SuT_PL_PXD1">
                                  <prototypeName>safSu=SuT_PL_PXD1</prototypeName>
                             </SUInstance>
                             <SUInstance name="safSu=SuT_PL_PXD2">
                                  <prototypeName>safSu=SuT_PL_PXD2</prototypeName>
                             </SUInstance>
                        </SUList>
                </nodeInstance>

<!-- External SU Instance Starts Here-->
                <extSUInstance name="safEsu=SuT_EXT1">
                     <prototypeName>safEsu=SuT_EXT</prototypeName>
                </extSUInstance>
                <extSUInstance name="safEsu=SuT_EXT2">
                     <prototypeName>safEsu=SuT_EXT</prototypeName>
                </extSUInstance>
<!-- External SU Instance Ends Here-->

         </AMFConfig>
</APPConfig>
